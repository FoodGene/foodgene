# Login & Onboarding Flow Diagrams

## 1. Complete User Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FoodGene User Journey                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          Home Page
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Click "Login"   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Login Page     â”‚
                    â”‚  (Email/Pass)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚        â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                                   â”‚
            â–¼                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Sign Up        â”‚          â”‚   Sign In        â”‚
    â”‚  (New User)      â”‚          â”‚ (Existing User)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                                   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ POST /api/auth/signup    â”‚
            â”‚ or /api/auth/login       â”‚
            â”‚ (Validate & Hash)        â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Return JWT Token        â”‚
            â”‚  Store in localStorage   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Diet Type Page         â”‚
            â”‚  (Athlete vs Normal)     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Questionnaire Page      â”‚
            â”‚  (6-Step Form)           â”‚
            â”‚  â”œâ”€ Step 1: Height/Wt    â”‚
            â”‚  â”œâ”€ Step 2: Age/Gender   â”‚
            â”‚  â”œâ”€ Step 3: Meal Type    â”‚
            â”‚  â”œâ”€ Step 4: Activity     â”‚
            â”‚  â”œâ”€ Step 5: Eating       â”‚
            â”‚  â””â”€ Step 6: Allergies    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚POST /api/questionnaire   â”‚
            â”‚/submit (Save Profile)    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Dashboard Page         â”‚
            â”‚  (Personalized)          â”‚
            â”‚  â”œâ”€ Profile Display      â”‚
            â”‚  â”œâ”€ Nutrition Targets    â”‚
            â”‚  â”œâ”€ Macro Pie Chart      â”‚
            â”‚  â””â”€ Quick Actions        â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Authentication Flow                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SIGN UP FLOW:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Input                Backend                  Storage
    â”‚                        â”‚                        â”‚
    â”œâ”€ Email â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚
    â”œâ”€ Password â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚
    â”‚                        â”‚                        â”‚
    â”‚                    Validate Email               â”‚
    â”‚                    Validate Password            â”‚
    â”‚                    Hash Password                â”‚
    â”‚                        â”‚                        â”‚
    â”‚                        â”œâ”€ Store User â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                        â”‚  {email, hash, date}   â”‚
    â”‚                        â”‚                        â”‚
    â”‚                    Generate JWT                 â”‚
    â”‚                        â”‚                        â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚
    â”‚  Token + Email          â”‚                        â”‚
    â”‚                        â”‚                        â”‚
    â””â”€ Store Token in localStorage                    â”‚


LOGIN FLOW:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Input                Backend                  Storage
    â”‚                        â”‚                        â”‚
    â”œâ”€ Email â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚
    â”œâ”€ Password â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚
    â”‚                        â”‚                        â”‚
    â”‚                    Find User                    â”‚
    â”‚                    Verify Password              â”‚
    â”‚                        â”‚                        â”‚
    â”‚                    Generate JWT                 â”‚
    â”‚                        â”‚                        â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚
    â”‚  Token + Email          â”‚                        â”‚
    â”‚                        â”‚                        â”‚
    â””â”€ Store Token in localStorage                    â”‚
```

---

## 3. Questionnaire Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Questionnaire Flow                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: Body Measurements
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Height (cm)              â”‚
â”‚ Weight (kg)              â”‚
â”‚ [Next] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Step 2: Personal Info
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Age                      â”‚
â”‚ Gender (M/F/Other)       â”‚
â”‚ [Back] [Next] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Step 3: Meal Preference
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—‹ Vegetarian             â”‚
â”‚ â—‹ Non-Vegetarian         â”‚
â”‚ â—‹ Vegan                  â”‚
â”‚ â—‹ Pescatarian            â”‚
â”‚ [Back] [Next] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Step 4: Activity & Goal
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Activity Level:          â”‚
â”‚ â—‹ Sedentary              â”‚
â”‚ â—‹ Light                  â”‚
â”‚ â—‹ Moderate               â”‚
â”‚ â—‹ Active                 â”‚
â”‚ â—‹ Very Active            â”‚
â”‚                          â”‚
â”‚ Goal:                    â”‚
â”‚ â—‹ Lose Weight            â”‚
â”‚ â—‹ Maintain               â”‚
â”‚ â—‹ Gain Muscle            â”‚
â”‚ â—‹ Improve Health         â”‚
â”‚ [Back] [Next] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Step 5: Weekly Eating
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜‘ Chicken & Poultry      â”‚
â”‚ â˜ Fish & Seafood         â”‚
â”‚ â˜‘ Beef & Red Meat        â”‚
â”‚ â˜‘ Rice & Grains          â”‚
â”‚ â˜ Bread & Pasta          â”‚
â”‚ â˜‘ Vegetables             â”‚
â”‚ â˜ Fruits                 â”‚
â”‚ â˜‘ Dairy & Milk           â”‚
â”‚ â˜ Nuts & Seeds           â”‚
â”‚ â˜ Legumes & Beans        â”‚
â”‚ [Back] [Next] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Step 6: Allergies & Conditions
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Allergies:               â”‚
â”‚ [peanuts, gluten]        â”‚
â”‚                          â”‚
â”‚ Health Conditions:       â”‚
â”‚ [none]                   â”‚
â”‚                          â”‚
â”‚ [Back] [Complete] â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    POST /api/questionnaire/submit
         â”‚
         â–¼
    Save Profile Data
         â”‚
         â–¼
    Redirect to Dashboard
```

---

## 4. Nutrition Calculation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Nutrition Calculation Flow                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Profile Data
â”œâ”€ Height: 175 cm
â”œâ”€ Weight: 75 kg
â”œâ”€ Age: 28 years
â”œâ”€ Gender: Male
â”œâ”€ Activity Level: Moderate
â””â”€ Diet Type: Athlete

         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Calculate BMR       â”‚
    â”‚ (Mifflin-St Jeor)   â”‚
    â”‚                     â”‚
    â”‚ BMR = 10Ã—W +        â”‚
    â”‚       6.25Ã—H -      â”‚
    â”‚       5Ã—A + 5       â”‚
    â”‚                     â”‚
    â”‚ BMR = 1708.75 kcal  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Calculate TDEE      â”‚
    â”‚                     â”‚
    â”‚ TDEE = BMR Ã—        â”‚
    â”‚        Activity     â”‚
    â”‚        Factor       â”‚
    â”‚                     â”‚
    â”‚ TDEE = 1708.75 Ã—    â”‚
    â”‚        1.55         â”‚
    â”‚                     â”‚
    â”‚ TDEE = 2649 kcal    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Calculate Macros    â”‚
    â”‚ (Athlete Diet)      â”‚
    â”‚                     â”‚
    â”‚ Protein: 35%        â”‚
    â”‚ = 231g              â”‚
    â”‚                     â”‚
    â”‚ Carbs: 45%          â”‚
    â”‚ = 299g              â”‚
    â”‚                     â”‚
    â”‚ Fats: 20%           â”‚
    â”‚ = 59g               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Display on          â”‚
    â”‚ Dashboard           â”‚
    â”‚                     â”‚
    â”‚ 2649 Calories       â”‚
    â”‚ 231g Protein        â”‚
    â”‚ 299g Carbs          â”‚
    â”‚ 59g Fats            â”‚
    â”‚                     â”‚
    â”‚ [Pie Chart]         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Dashboard Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Dashboard                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  Welcome to Your Dashboard          [Logout]                    â”‚
â”‚  Your personalized nutrition hub                                â”‚
â”‚                                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ‘¤ Your Profile  â”‚  â”‚ ğŸ¯ Daily Targets â”‚  â”‚ ğŸ“Š Macro     â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚ Distribution â”‚  â”‚
â”‚  â”‚ Height: 175 cm   â”‚  â”‚ 2649 Calories    â”‚  â”‚              â”‚  â”‚
â”‚  â”‚ Weight: 75 kg    â”‚  â”‚ 231g Protein     â”‚  â”‚   [Pie]      â”‚  â”‚
â”‚  â”‚ Age: 28 years    â”‚  â”‚ 299g Carbs       â”‚  â”‚              â”‚  â”‚
â”‚  â”‚ Gender: Male     â”‚  â”‚ 59g Fats         â”‚  â”‚              â”‚  â”‚
â”‚  â”‚ Activity: Mod.   â”‚  â”‚                  â”‚  â”‚              â”‚  â”‚
â”‚  â”‚ Goal: Gain Mus.  â”‚  â”‚                  â”‚  â”‚              â”‚  â”‚
â”‚  â”‚ Diet: Athlete    â”‚  â”‚                  â”‚  â”‚              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ½ï¸ Meal Prefs    â”‚  â”‚ âš•ï¸ Health Info   â”‚  â”‚ âš¡ Quick     â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚ Actions      â”‚  â”‚
â”‚  â”‚ Type: Non-Veg    â”‚  â”‚ Conditions:      â”‚  â”‚              â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚ None reported    â”‚  â”‚ [Meal Plan]  â”‚  â”‚
â”‚  â”‚ Eating Habits:   â”‚  â”‚                  â”‚  â”‚ [Scan Food]  â”‚  â”‚
â”‚  â”‚ â€¢ Chicken        â”‚  â”‚ Allergies:       â”‚  â”‚ [Crop Yield] â”‚  â”‚
â”‚  â”‚ â€¢ Rice           â”‚  â”‚ Peanuts          â”‚  â”‚ [Research]   â”‚  â”‚
â”‚  â”‚ â€¢ Vegetables     â”‚  â”‚                  â”‚  â”‚              â”‚  â”‚
â”‚  â”‚ â€¢ Dairy          â”‚  â”‚                  â”‚  â”‚              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. API Request/Response Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   API Communication Flow                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SIGN UP REQUEST:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Frontend                          Backend
    â”‚                                â”‚
    â”œâ”€ POST /api/auth/signup â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ {                              â”‚
    â”‚   "email": "user@ex.com",      â”‚
    â”‚   "password": "pass123"        â”‚
    â”‚ }                              â”‚
    â”‚                                â”‚
    â”‚                           Validate
    â”‚                           Hash Password
    â”‚                           Store User
    â”‚                                â”‚
    â”‚â—„â”€ 200 OK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ {                              â”‚
    â”‚   "access_token": "...",       â”‚
    â”‚   "token_type": "bearer",      â”‚
    â”‚   "user_email": "user@ex.com"  â”‚
    â”‚ }                              â”‚
    â”‚                                â”‚


QUESTIONNAIRE REQUEST:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Frontend                          Backend
    â”‚                                â”‚
    â”œâ”€ POST /api/questionnaire â”€â”€â”€â”€â”€â”¤
    â”‚ /submit {                      â”‚
    â”‚   "email": "user@ex.com",      â”‚
    â”‚   "height": "175",             â”‚
    â”‚   "weight": "75",              â”‚
    â”‚   "age": "28",                 â”‚
    â”‚   "gender": "Male",            â”‚
    â”‚   "mealType": "Non-Veg",       â”‚
    â”‚   "activityLevel": "Moderate", â”‚
    â”‚   "goal": "Gain Muscle",       â”‚
    â”‚   "weeklyEating": [...],       â”‚
    â”‚   "allergies": "peanuts",      â”‚
    â”‚   "existingConditions": "none",â”‚
    â”‚   "dietType": "athlete"        â”‚
    â”‚ }                              â”‚
    â”‚                                â”‚
    â”‚                           Validate
    â”‚                           Save Profile
    â”‚                           Generate Token
    â”‚                                â”‚
    â”‚â—„â”€ 200 OK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ {                              â”‚
    â”‚   "user_id": "user@ex.com",    â”‚
    â”‚   "access_token": "...",       â”‚
    â”‚   "user_email": "user@ex.com", â”‚
    â”‚   "profile": { ... }           â”‚
    â”‚ }                              â”‚
    â”‚                                â”‚
```

---

## 7. Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Data Flow                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Input
    â”‚
    â”œâ”€ Email/Password â”€â”€â”€â”€â”€â”€â”
    â”‚                       â”‚
    â”‚                   LoginPage
    â”‚                       â”‚
    â”‚                   Validation
    â”‚                       â”‚
    â–¼                       â–¼
API Request â”€â”€â”€â”€â”€â”€â”€â”€â–º Backend
    â”‚                   â”‚
    â”‚              Hash/Verify
    â”‚                   â”‚
    â”‚              Store User
    â”‚                   â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  JWT Token
    â”‚
    â”œâ”€ Store in localStorage
    â”‚
    â”œâ”€ Diet Type â”€â”€â”€â”€â”€â”€â”
    â”‚                  â”‚
    â”‚            DietTypePage
    â”‚                  â”‚
    â”‚            Store in localStorage
    â”‚                  â”‚
    â–¼                  â–¼
Questionnaire â”€â”€â”€â”€â–º QuestionnairePage
    â”‚                  â”‚
    â”‚            Collect Data
    â”‚                  â”‚
    â”œâ”€ Height/Weight
    â”œâ”€ Age/Gender
    â”œâ”€ Meal Type
    â”œâ”€ Activity/Goal
    â”œâ”€ Eating Habits
    â””â”€ Allergies/Conditions
                       â”‚
                       â–¼
                   Validation
                       â”‚
                       â–¼
                   API Request
                       â”‚
                       â–¼
                   Backend
                       â”‚
                   Save Profile
                       â”‚
                       â–¼
                   Return Profile
                       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                     â”‚
    â–¼                                     â–¼
Store in localStorage              Calculate Nutrition
    â”‚                                     â”‚
    â”‚                              Mifflin-St Jeor
    â”‚                                     â”‚
    â”‚                              Calculate TDEE
    â”‚                                     â”‚
    â”‚                              Calculate Macros
    â”‚                                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
                  Dashboard
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚              â”‚
        â–¼              â–¼              â–¼
    Profile        Nutrition      Pie Chart
    Display        Display        Visualization
```

---

## 8. State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   State Management                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AuthContext (Global State)
â”œâ”€ token: string | null
â”œâ”€ userId: string | null
â”œâ”€ isAuthenticated: boolean
â”œâ”€ login(email, password): Promise
â”œâ”€ logout(): void
â””â”€ isLoading: boolean

localStorage (Persistent State)
â”œâ”€ foodgene_token: JWT token
â”œâ”€ foodgene_user_id: User email
â”œâ”€ userEmail: Email for questionnaire
â”œâ”€ dietType: Selected diet type
â””â”€ userProfile: Complete profile data

Component State (Local State)
â”œâ”€ LoginPage
â”‚  â”œâ”€ isSignUp: boolean
â”‚  â”œâ”€ email: string
â”‚  â”œâ”€ password: string
â”‚  â”œâ”€ confirmPassword: string
â”‚  â”œâ”€ error: string
â”‚  â””â”€ isLoading: boolean
â”‚
â”œâ”€ QuestionnairePage
â”‚  â”œâ”€ currentStep: number
â”‚  â”œâ”€ formData: object
â”‚  â”œâ”€ error: string
â”‚  â””â”€ loading: boolean
â”‚
â””â”€ DashboardPage
   â”œâ”€ userProfile: object
   â”œâ”€ loading: boolean
   â””â”€ error: string
```

---

## 9. Error Handling Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Error Handling Flow                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Action
    â”‚
    â–¼
Validation
    â”‚
    â”œâ”€ Valid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                              â”‚
    â”‚                          Process
    â”‚                              â”‚
    â”‚                          Success
    â”‚                              â”‚
    â”‚                          Update UI
    â”‚
    â””â”€ Invalid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚
                              Error Message
                                   â”‚
                              Display Error
                                   â”‚
                              User Sees:
                              "Invalid email"
                              "Password too short"
                              "Email already exists"
                              etc.

API Error Handling:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
400 Bad Request â”€â”€â–º "Invalid input"
401 Unauthorized â”€â”€â–º "Invalid credentials"
404 Not Found â”€â”€â”€â”€â”€â”€â–º "User not found"
500 Server Error â”€â”€â–º "Internal server error"
```

---

## 10. Security Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Security Flow                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Password Input
    â”‚
    â–¼
Frontend Validation
â”œâ”€ Email format check
â”œâ”€ Password length check
â””â”€ Password confirmation match
    â”‚
    â–¼
HTTPS/TLS Encryption
    â”‚
    â–¼
Backend Receives
    â”‚
    â–¼
Backend Validation
â”œâ”€ Email format check
â”œâ”€ Password length check
â””â”€ Email uniqueness check
    â”‚
    â–¼
Password Hashing
â”œâ”€ SHA256 (current)
â””â”€ bcrypt (recommended)
    â”‚
    â–¼
Store Hashed Password
    â”‚
    â–¼
Generate JWT Token
â”œâ”€ Payload: {sub: email}
â”œâ”€ Expiration: 30 minutes
â””â”€ Secret: JWT_SECRET_KEY
    â”‚
    â–¼
Return Token to Frontend
    â”‚
    â–¼
Store in localStorage
    â”‚
    â–¼
Include in API Requests
â”œâ”€ Authorization: Bearer <token>
â””â”€ Validate on each request
```

---

**Last Updated**: December 3, 2025  
**Version**: 1.0.0

